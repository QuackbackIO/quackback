# Quackback

Open-source customer feedback platform. Collect, organize, and act on user feedback with public boards, roadmaps, and changelogs.

## Quick Start

```bash
bun run setup   # One-time setup
bun run dev     # Start dev server
```

Open [http://app.quackback.localhost:3000](http://app.quackback.localhost:3000)

## Prerequisites

- [Bun](https://bun.sh/) v1.3.3+
- [Docker](https://docker.com/) (for PostgreSQL)

## Project Structure

```
quackback/
├── apps/
│   └── web/                 # Next.js 16 application
├── packages/
│   ├── db/                  # Drizzle ORM schema and queries
│   ├── domain/              # Business logic
│   ├── email/               # Email service (Resend)
│   ├── integrations/        # GitHub, Slack, Discord
│   └── shared/              # Shared types and utilities
├── scripts/
│   └── setup.sh             # Development setup script
└── docker-compose.yml       # Local PostgreSQL
```

## Development Commands

| Command               | Description                              |
| --------------------- | ---------------------------------------- |
| `bun run setup`       | One-time dev environment setup           |
| `bun run dev`         | Start Next.js dev server with Turbopack  |
| `bun run build`       | Build for production                     |
| `bun run lint`        | Run ESLint                               |
| `bun run test`        | Run Vitest tests                         |
| `bun run db:push`     | Push schema changes to database          |
| `bun run db:generate` | Generate Drizzle migrations              |
| `bun run db:migrate`  | Run database migrations                  |
| `bun run db:studio`   | Open Drizzle Studio (visual DB explorer) |
| `bun run db:seed`     | Seed database with demo data             |

## Environment Variables

Copy `.env.example` to `.env` (the setup script does this automatically):

```bash
cp .env.example .env
```

### Required Variables

| Variable              | Description                               |
| --------------------- | ----------------------------------------- |
| `DATABASE_URL`        | PostgreSQL connection string              |
| `BETTER_AUTH_SECRET`  | Auth secret key (auto-generated by setup) |
| `BETTER_AUTH_URL`     | Auth base URL                             |
| `NEXT_PUBLIC_APP_URL` | Public app URL                            |
| `COOKIE_DOMAIN`       | Cookie domain for cross-subdomain auth    |

### Optional Variables

| Variable                  | Description   |
| ------------------------- | ------------- |
| `GITHUB_CLIENT_ID/SECRET` | GitHub OAuth  |
| `GOOGLE_CLIENT_ID/SECRET` | Google OAuth  |
| `RESEND_API_KEY`          | Email sending |

## Local Development with Subdomains

Quackback uses subdomains for multi-tenancy. Modern browsers resolve `*.localhost` automatically:

- **Main app**: `http://app.quackback.localhost:3000`
- **Tenant portals**: `http://{org-slug}.quackback.localhost:3000`

No hosts file changes needed on modern browsers (Chrome, Firefox, Edge).

## Tech Stack

- **Framework**: Next.js 16 (App Router)
- **Database**: PostgreSQL + Drizzle ORM
- **Auth**: Better-auth with organizations
- **Runtime**: Bun
- **Styling**: Tailwind CSS v4
- **UI**: shadcn/ui components

## License

BSL-1.1 (Business Source License)
