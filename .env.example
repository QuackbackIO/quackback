# ============================================================================
# Quackback Environment Configuration
# ============================================================================
# Copy this file to .env and fill in your values.
# For self-hosted deployments, only the "Required" section needs configuration.

# ============================================================================
# Required
# ============================================================================

# PostgreSQL connection string
DATABASE_URL="postgresql://postgres:password@localhost:5432/quackback"

# Public URL for your Quackback instance (used in emails, OAuth callbacks, etc.)
ROOT_URL="http://localhost:3000"

# Auth secret - MUST be at least 32 characters
# Generate with: openssl rand -base64 32
BETTER_AUTH_SECRET=""
BETTER_AUTH_URL="http://localhost:3000"

# ============================================================================
# Email (optional)
# ============================================================================
# If not configured, emails are logged to console (useful for development).
# Priority: SMTP (if configured) → Resend (if configured) → Console logging
#
# Option 1: SMTP (recommended for self-hosted, works with any provider)
#   - Gmail: smtp.gmail.com (port 587, use app password)
#   - Amazon SES: email-smtp.{region}.amazonaws.com
#   - Mailgun: smtp.mailgun.org
#   - SendGrid: smtp.sendgrid.net

EMAIL_SMTP_HOST=""
EMAIL_SMTP_PORT="587"
EMAIL_SMTP_USER=""
EMAIL_SMTP_PASS=""
# EMAIL_SMTP_SECURE="true"  # Uncomment for port 465 (implicit TLS)

# Option 2: Resend API (simpler setup, requires Resend account)
# Get your API key at: https://resend.com/api-keys

EMAIL_RESEND_API_KEY=""

# Sender address (used by both SMTP and Resend)
EMAIL_FROM="Quackback <noreply@yourdomain.com>"

# ============================================================================
# OAuth Providers (optional)
# ============================================================================
# Enable social login by configuring one or more providers.

# GitHub OAuth: https://github.com/settings/developers
GITHUB_CLIENT_ID=""
GITHUB_CLIENT_SECRET=""

# Google OAuth: https://console.cloud.google.com/apis/credentials
GOOGLE_CLIENT_ID=""
GOOGLE_CLIENT_SECRET=""

# Microsoft OAuth: https://portal.azure.com/#blade/Microsoft_AAD_RegisteredApps
MICROSOFT_CLIENT_ID=""
MICROSOFT_CLIENT_SECRET=""
MICROSOFT_TENANT_ID="common"

# ============================================================================
# Integrations (optional)
# ============================================================================
# Enable integrations with third-party services.

# Encryption key for storing OAuth tokens (required if using integrations)
# Generate with: openssl rand -base64 32
INTEGRATION_ENCRYPTION_KEY=""

# Slack: https://api.slack.com/apps
# Required scopes: channels:read, chat:write, team:read
SLACK_CLIENT_ID=""
SLACK_CLIENT_SECRET=""

# Linear: https://linear.app/settings/api
LINEAR_CLIENT_ID=""
LINEAR_CLIENT_SECRET=""

# GitHub App (for issue sync): https://github.com/settings/apps
GITHUB_APP_ID=""
GITHUB_APP_PRIVATE_KEY=""

# ============================================================================
# Cloud Edition (Quackback team only)
# ============================================================================
# The following variables are only used for Quackback Cloud (app.quackback.io).
# Self-hosted users should ignore this section entirely.
# For local cloud development, use: bun run dev:cloud
#
# CLOUD_CATALOG_DATABASE_URL=""
# CLOUD_TENANT_BASE_DOMAIN=""
# CLOUD_APP_DOMAIN=""  # Central domain for OAuth callbacks (e.g., app.quackback.io)
# CLOUD_NEON_API_KEY=""
# CLOUD_NEON_DEFAULT_REGION=""
# CLOUD_SESSION_TRANSFER_SECRET=""

# Cloudflare for SaaS - Custom Domains
# Required for custom domain SSL certificates in cloud mode
# CLOUD_CLOUDFLARE_API_TOKEN=""  # Cloudflare API token with Custom Hostnames permission
# CLOUD_CLOUDFLARE_ZONE_ID=""    # Zone ID for custom hostnames
# CLOUD_CLOUDFLARE_WEBHOOK_SECRET=""  # Optional: Webhook authentication secret

# Stripe Billing (Cloud Edition)
# Required for subscription management in cloud mode
# CLOUD_STRIPE_SECRET_KEY=""           # Stripe API secret key (sk_test_... or sk_live_...)
# CLOUD_STRIPE_WEBHOOK_SECRET=""       # Webhook signing secret (whsec_...)
#
# Stripe Price IDs (create in Stripe Dashboard)
# CLOUD_STRIPE_PRO_PRICE_ID=""         # Price ID for Pro tier monthly
# CLOUD_STRIPE_TEAM_PRICE_ID=""        # Price ID for Team tier monthly
# CLOUD_STRIPE_SEAT_PRO_PRICE_ID=""    # Price ID for additional Pro seats
# CLOUD_STRIPE_SEAT_TEAM_PRICE_ID=""   # Price ID for additional Team seats
# ----------
# 32-byte hex key for AES-256-GCM encryption (connection string decryption)
# MUST match the ENCRYPTION_KEY in the website .env (used to encrypt connection strings)
# Generate with: openssl rand -hex 32
ENCRYPTION_KEY=""
