# ============================================================================
# Edition & Deployment Mode
# ============================================================================
# EDITION: Feature gating mode
# - "oss" (default): Self-hosted, all features enabled, no billing
# - "cloud": Quackback Cloud with billing and subscription-based feature tiers
EDITION="oss"

# DEFAULT_ORG_SLUG: Organization slug for single-tenant deployments
# When EDITION="oss", all routes are rewritten to /s/[DEFAULT_ORG_SLUG]/
# This enables the same route structure as multi-tenant without subdomain routing
DEFAULT_ORG_SLUG="default"

# ============================================================================
# Database
# ============================================================================
# Standard PostgreSQL connection (used when deploying to Node.js environments)
# For Cloudflare Workers, database connection is via Hyperdrive binding instead
DATABASE_URL="postgresql://postgres:password@localhost:5432/quackback"

# Redis (DragonflyDB for background jobs)
REDIS_URL="redis://localhost:6379"

# App Domain
# The base domain for your app (without protocol)
# Local dev: localhost:3000 (tenant subdomains: {tenant}.localhost:3000)
# Production: quackback.io (tenant subdomains: {tenant}.quackback.io)
APP_DOMAIN="localhost:3000"

# Auth (Better-auth)
# Generate a secure secret: openssl rand -base64 32
BETTER_AUTH_SECRET="your-secret-key-here-generate-with-openssl-rand"
BETTER_AUTH_URL="http://localhost:3000"

# OAuth Providers (optional)
GITHUB_CLIENT_ID=""
GITHUB_CLIENT_SECRET=""
GOOGLE_CLIENT_ID=""
GOOGLE_CLIENT_SECRET=""
MICROSOFT_CLIENT_ID=""
MICROSOFT_CLIENT_SECRET=""
MICROSOFT_TENANT_ID="common"

# Email (Resend) - Required for signin codes and notifications
# Get your API key from: https://resend.com/api-keys
# Verify your sending domain in Resend dashboard first
RESEND_API_KEY=""
EMAIL_FROM="Quackback <noreply@quackback.io>"

# Development: Log emails to console instead of sending
# Set to "true" to print auth codes, invitations, etc. to terminal
DEV_EMAIL_TO_CONSOLE="true"

# Built-in Integrations
# Encryption key for OAuth tokens stored in database (required for integrations)
# Generate with: openssl rand -base64 32
INTEGRATION_ENCRYPTION_KEY=""

# Slack Integration
# Create app at: https://api.slack.com/apps
# Required scopes: channels:read, chat:write, team:read
SLACK_CLIENT_ID=""
SLACK_CLIENT_SECRET=""

# Discord Integration (webhook-based, no OAuth needed)
# Users provide webhook URLs directly in the UI

# Linear Integration
# Create OAuth app at: https://linear.app/settings/api
LINEAR_CLIENT_ID=""
LINEAR_CLIENT_SECRET=""

# GitHub Integration (for issue sync)
GITHUB_APP_ID=""
GITHUB_APP_PRIVATE_KEY=""

# Jira Integration (future)
# JIRA_CLIENT_ID=""
# JIRA_CLIENT_SECRET=""

# ============================================================================
# Stripe (Cloud Edition Only)
# ============================================================================
# Required for billing in Quackback Cloud. Ignored in self-hosted (EDITION="oss").
# Get your keys from: https://dashboard.stripe.com/apikeys

# Secret key for server-side API calls
STRIPE_SECRET_KEY=""

# Publishable key for client-side Stripe.js
STRIPE_PUBLISHABLE_KEY=""

# Webhook signing secret for verifying Stripe events
# Get from: https://dashboard.stripe.com/webhooks (after creating endpoint)
STRIPE_WEBHOOK_SECRET=""

# Price IDs for subscription tiers (create in Stripe dashboard)
# Create products with monthly recurring prices:
# - Pro: $49/mo (2 seats included)
# - Team: $149/mo (5 seats included)
# - Enterprise: $499/mo (10 seats included)
STRIPE_PRICE_PRO=""
STRIPE_PRICE_TEAM=""
STRIPE_PRICE_ENTERPRISE=""

# Per-seat add-on prices for additional seats beyond included:
# - Pro: $15/seat/mo
# - Team: $20/seat/mo
# - Enterprise: $30/seat/mo
STRIPE_PRICE_PRO_SEAT=""
STRIPE_PRICE_TEAM_SEAT=""
STRIPE_PRICE_ENTERPRISE_SEAT=""

# ============================================================================
# Cloudflare for SaaS (Cloud Edition Only)
# ============================================================================
# Required for automatic SSL certificate provisioning on custom domains.
# Only used in Quackback Cloud (EDITION="cloud"). Ignored in self-hosted.
# Cloudflare for SaaS must be enabled on your zone.

# API token with Zone.Custom Hostname permissions
# Create at: https://dash.cloudflare.com/profile/api-tokens
CF_HOSTNAME_TOKEN=""

# Zone ID where custom hostnames will be created
# Found in Overview tab of your Cloudflare zone
CLOUDFLARE_ZONE_ID=""

# Webhook secret for receiving SSL status updates (optional)
# Create webhook at: Zone > Custom Hostnames > Notifications
CLOUDFLARE_WEBHOOK_SECRET=""
